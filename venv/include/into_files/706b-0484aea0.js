(window.webpackJsonp=window.webpackJsonp||[]).push([["706b","12da"],{"7OxE":function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(n){return t.reduce(function(e,t){return babelHelpers.objectSpread({},e,t(n))},{})}}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce(function(e,t){return t(e)},e)}}function i(e){return new Map(new URLSearchParams(new URL(e.name).search).entries())}function o(e){return a(i,(n=e,function(t){return Object.fromEntries(n.filter(function(e){return t.has(e)}).map(function(e){return[e,t.get(e)]}))}));var n}function s(e){return{transfer_size:e.transferSize,decoded_size:e.decodedBodySize}}function c(e,t){return t.regex.test(e.name)}function u(e,t){return t.regex.exec(e.name.split("?")[0])[1]}var d=["locale","currency"],p=o(d),l={service:"apiv2",name:"apiv2.request",regex:/api\/v2\/(.*)/,match:c,getTags:p,getResource:u},m={service:"bundles",name:"bundle.load",regex:/\/packages\/(.*)\.bundle(?:-[a-z0-9]+)?\.js/,match:c,getTags:r(s,function(e){return{url:e.name}}),getResource:u},_=babelHelpers.objectSpread({},m,{name:"async_bundle.load",regex:/\/static\/(.*)-async(?:-[a-z0-9]+)?\.js/}),g={service:"phrases",name:"phrases.load",regex:/api\/core_guest_spa\/all_phrases/,match:c,getTags:r(s,p),getResource:function(){return"all_phrases"}};var f={service:"longtasks",name:"longtask.execute",match:function(e){return"longtask"===e.entryType},getResource:function(e){return e.name},getTags:function(e){var t={entryType:e.entryType};if(e.attribution&&0<e.attribution.length){var n=e.attribution[0];t=babelHelpers.objectSpread({},t,{containerType:n.containerType,attributionName:n.name})}return t}};t.a=[babelHelpers.objectSpread({},l,{regex:/api\/v2\/explore_tabs/,getTags:o(d.concat(["tab_id","query","refinement_paths[]"])),getResource:function(){return"explore_tabs"}}),l,m,_,g,f]},"7WFW":function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"c",function(){return v}),n.d(t,"a",function(){return y});var d=n("qXZg"),r=n("j/eu"),a=n.n(r),i=n("3qs6"),o=n("UIm5"),p=n("APZ/"),l=n("vkXX"),m=n("XNMq"),s=n("Mzec"),c=n("Mt4R"),_=null,g=null,f=!1;function h(e){a.a.logJitneyEvent({schema:i.a,event_data:{spans:e.map(o.a)}})}var b=function(){function e(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:h;this.spanBuffer=[],this.spanRegistry=new Map,this.newSpanParent=void 0,this.emitter=e}var t=e.prototype;return t.startSpan=function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=n.register,a=void 0!==r&&r,i=n.operationName,o=void 0===i?e:i,s=babelHelpers.objectWithoutProperties(n,["register","operationName"]),c=_.startSpan(o,babelHelpers.objectSpread({childOf:this.newSpanParent},s));return this.spanBuffer.push(c),a&&this.spanRegistry.set(e,c),c},t.flushSpans=function(e){var t=this,n=0<arguments.length&&void 0!==e?e:this.emitter,r=this.spanBuffer.splice(0,this.spanBuffer.length);0<r.length?Promise.all(r.map(function(e){return e.finishPromise.promise})).then(function(){n(r),t.spanRegistry.clear()}):this.spanRegistry.clear()},t.performanceTimingSpans=function(e,t,n,r,a){var i=4<arguments.length&&void 0!==a?a:{};Object(c.a)(this,e,t,n,r,i),Object(s.a)(this),this.flushSpans()},e}();function u(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.sampler,n=void 0===t?m.a:t,r=e.timer,a=void 0===r?new l.a:r,i=e.idProvider,o=void 0===i?new d.a:i,s=e.emitter,c=void 0===s?h:s;if(f=n()){g=new b(c),_=new d.b(a,o);var u=g.startSpan(p.f,{register:!0});g.startSpan(p.e,{register:!0,childOf:u}),g.startSpan(p.a,{register:!0,childOf:u}),g.newSpanParent=g.startSpan(p.c,{register:!0,childOf:u})}}function v(){f&&(g&&g.flushSpans(),(g=new b).newSpanParent=g.startSpan(p.f,{register:!0}))}function y(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return""===o?g:g&&{startSpan:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=n.operationName,a=void 0===r?e:r,i=babelHelpers.objectWithoutProperties(n,["operationName"]);return g.startSpan("".concat(o,"/").concat(e),babelHelpers.objectSpread({},i,{operationName:a,service:"frontend_".concat(o)}))},getRegisteredSpan:function(e){return g.spanRegistry.get("".concat(o,"/").concat(e))}}}},"APZ/":function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"f",function(){return a}),n.d(t,"e",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return c});var r=.01,a="AirbnbInteractive",i="TTFB",o="ContentDownload",s="Processing",c="frontend-tracing-force-sampling"},H92b:function(e,t,n){"use strict";t.a=function(){return"object"===babelHelpers.typeof(window.crypto)&&("function"==typeof window.crypto.getRandomValues&&("function"==typeof URL&&"function"==typeof URLSearchParams))}},Mt4R:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var d=n("/+q4"),p=n("APZ/");function r(e,t,n,r,a){var i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{},o=e.spanRegistry.get(p.f);if(o&&(o.startTimeMs=Math.round(n-t,10),o.addTags(i),o.finish(Math.round(n,10))),a===d.a.DirectRequest){var s=e.spanRegistry.get(p.e);s&&(s.startTimeMs=Math.round(r.time_to_request_start_in_ms,10),s.finish(r.time_to_response_start_in_ms));var c=e.spanRegistry.get(p.a);c&&(c.startTimeMs=Math.round(r.time_to_response_start_in_ms,10),c.finish(Math.round(r.time_to_response_end_in_ms,10)));var u=e.spanRegistry.get(p.c);u&&(u.startTimeMs=Math.round(r.time_to_response_end_in_ms,10),u.finish(Math.round(n,10)))}}},Mzec:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var l=n("lVss"),o=n("APZ/"),s=n("7OxE");var c=["","fetch","script"];function r(d){var t,n,p=1<arguments.length&&void 0!==arguments[1]?arguments[1]:s.a,e=d.spanRegistry.get(o.f);if(e){var r=window.performance&&Object(l.b)();if("function"==typeof r.getEntriesByType){var a=e.startTimeMs-Object(l.c)(0),i=e.finishTimeMs-Object(l.c)(0);r.getEntriesByType("resource").filter(function(e){return e.startTime>=a&&e.responseEnd<=i}).filter(function(e){return c.includes(e.initiatorType)}).concat((t=a,n=i,window&&window.__tti&&window.__tti.e&&0<window.__tti.e.length?window.__tti.e.filter(function(e){return e.startTime>=t&&e.duration+e.startTime<=n}):[])).forEach(function(t){var n,r,a,e=p.find(function(e){return e.match(t,e)});if(e){var i=e.service,o=e.name,s=e.getTags,c=e.getResource,u=d.startSpan(o,{startTime:Object(l.c)(t.startTime)});u.addTags(babelHelpers.objectSpread({},s(t),{service:"frontend_".concat(i),resource:c(t,e)})),n=d,r=u,(a=t).serverTiming&&0<a.serverTiming.length&&a.serverTiming.forEach(function(e){if(0<e.duration){var t=n.startSpan("server.timing",{startTime:Object(l.c)(a.responseStart-e.duration),childOf:r});t.addTags({service:"frontend_server_timing",resource:e.name,description:e.description}),t.finish(Object(l.c)(a.responseStart))}}),u.finish(Object(l.c)(t.responseEnd||t.startTime+t.duration))}})}}}},PBfr:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var r="validated-airbnb-interactive",a="never-interactive"},RTPL:function(e,n,r){"use strict";(function(S){var e=r("j/eu"),T=r.n(e),j=r("4D4G"),s=r("sl/x"),k=r("lVss"),M=r("7WFW"),P=r("28/g"),O=r("yv6Y"),H=r("VAqr"),l="Time to AirbnbInteractive",t=function(){function e(){this.pageTransitionStart=void 0,this.history=void 0,this.unlistenHistory=void 0,this.historyCallback=void 0,this.lastLoggedPathname=void 0}var t=e.prototype;return t.setHistoryListener=function(e,t){this.history||(this.history=e,this.unlistenHistory=e.listen(this.onHistoryChange.bind(this)),void 0===this.lastLoggedPathname&&this.history.location&&(this.lastLoggedPathname=this.history.location.pathname)),t&&t!==this.historyCallback&&(this.historyCallback=t)},t.onHistoryChange=function(e,t){this.historyCallback&&this.historyCallback(e,t)},t.logImpression=function(e){var n=e.universalPageName,r=e.eventData,a=e.eventDataSchema,i=e.impressionUuid,o=e.pageRequestMethod;Object(P.b)(!!this.pageTransitionStart).then(function(e){var t={schema:s.UniversalPageImpressionEvent,event_data:{page_name:n,referrer:document.referrer||"unknown",page_request_method:o||e,event_data:r,event_data_schema:a,impression_uuid:i,navigation_type:Object(k.e)(),url:document.location.href}};T.a.logJitneyEvent(t)})},t.logAirbnbInteractive=function(e){var t=e.methodology,n=e.eventData,r=e.eventDataSchema,a=e.universalPageName,i=e.impressionUuid,o=e.pageRequestMethod,s=e.tti,c=S.window&&Object(k.b)();if(c&&c.timing&&c.timing.requestStart){var u,d=Object(k.f)();if(!s){if(this.pageTransitionStart)u=d-this.pageTransitionStart.startTime,this.pageTransitionStart.doNotOverrwiteUntilLogged=!1;else{var p=c.getEntriesByName&&c.getEntriesByName(l,"measure");u=p&&0<p.length?p[0].duration-(c.timing.requestStart-c.timing.navigationStart):d-c.timing.requestStart}c.getEntriesByName&&0<c.getEntriesByName("client side route","mark").length?c.measure(l,"client side route"):c.getEntriesByName&&0===c.getEntriesByName(l,"measure").length&&c.measure(l),"function"==typeof c.clearMarks&&c.clearMarks("client side route")}this.logTime({methodology:t,tti:s||u,endTime:d,eventData:n,eventDataSchema:r,universalPageName:a,impressionUuid:i,providedPageRequestMethod:o})}},t.logTime=function(e){var o=this,s=e.methodology,c=e.tti,u=e.endTime,d=e.universalPageName,p=e.eventData,l=e.eventDataSchema,m=e.impressionUuid,_=e.providedPageRequestMethod,g=S.window&&Object(k.b)(),f=S.location.pathname,h=S.location.host,b=Object(O.e)(),v=Object(O.g)(),y=Object(O.b)(),w=Object(O.a)(g);Object(P.b)(!!this.pageTransitionStart).then(function(e){var t=o.pageTransitionStart?o.pageTransitionStart.startTime:g.timing.requestStart,n=babelHelpers.objectSpread({},Object(O.i)(g.timing||{}),Object(O.f)(g),Object(O.h)(),Object(O.d)(g),Object(O.c)()),r=babelHelpers.objectSpread({methodology:s},Object(H.a)({startTime:t})),a={schema:j.PerformanceAirbnbWebInteractiveEvent,event_data:{information:r,web_page_name:"deprecated",domain_and_path:"".concat(h).concat(f),page_request_method:_||e,time_to_airbnb_interactive_in_ms:c,web_performance_timing:n,universal_page_name:d,event_data:p,event_data_schema:l,impression_uuid:m,network_information:b,visibility_state:v,bundler_type:y,assets_size:w,navigation_type:Object(k.e)()}};T.a.logJitneyEvent(a);var i=Object(M.a)();i&&i.performanceTimingSpans(c,u,n,e,{universal_page_name:d,methodology:s,domain_and_path:"".concat(h).concat(f),cdn_provider:n.www_cdn_provider,page_request_method:e})})},t.logStartPageTransition=function(e){var t=e.universalPageName,n=e.doNotOverrwiteUntilLogged;if(S.window){var r=S.window&&Object(k.b)();if(this.pageTransitionStart&&this.pageTransitionStart.doNotOverrwiteUntilLogged||(this.history&&this.history.location&&(this.lastLoggedPathname=this.history.location.pathname),this.pageTransitionStart={doNotOverrwiteUntilLogged:n,valid:!0,initialRoute:t,startTime:Object(k.f)()},r&&("function"==typeof r.clearMarks&&"function"==typeof r.clearMeasures&&(r.clearMarks("client side route"),r.clearMarks("core_execution_start"),r.clearMarks("core_execution_end"),r.clearMarks("common_execution_start"),r.clearMarks("common_execution_end"),r.clearMarks("spa_execution_start"),r.clearMarks("spa_execution_end"),r.clearMarks("component_render_start"),r.clearMarks("component_render_end"),r.clearMarks("with_airbnb_interactive_did_mount"),r.clearMeasures(l)),r.mark("client side route"))),r&&r.clearResourceTimings){var a=S.window&&S.window.document;a&&"complete"===a.readyState&&r.clearResourceTimings()}Object(M.c)()}},t.hasMovedToNewPage=function(e,t,n){return"POP"===t||"PUSH"===t||!!n&&"REPLACE"===t&&e.pathname!==this.lastLoggedPathname},e}();n.a=new t}).call(this,r("cNzE"))},VAqr:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n("eyJb"),s=n.n(r),a=n("9pTB"),c=n.n(a),i=n("I9Za"),u=n.n(i),o=n("j/eu"),d=n.n(o),p=n("Ri7V"),l=n("gqJu"),m=n("yv6Y");function _(e,t){var n=1<arguments.length&&void 0!==t?t:window.performance.timing.requestStart;return e+window.performance.timing.navigationStart-n}var g=function(a,e){var i=e.startTime;return[{name:"api_v2_explore_tab",url:"api/v2/explore_tabs"},{name:"api_v2_pdp_listing_detail",url:"api/v2/pdp_listing_details"},{name:"lightmoweb_hyperloop_p2_api",url:l.a},{name:"lightmoweb_hyperloop_p3_api",url:l.b},{name:"lightmoweb_hyperloop_p4_api",url:l.c}].reduce(function(e,t){var n,r=a.find(function(e){return e.name.includes(t.url)&&"resource"===e.entryType});return r?babelHelpers.objectSpread({},e,(n={},babelHelpers.defineProperty(n,"".concat(t.name,"_start"),String(_(r.fetchStart,i))),babelHelpers.defineProperty(n,"".concat(t.name,"_duration"),String(r.duration)),n)):e},{})},f=function(a){return[{name:"js_download_initializer",url:"packages/initializers"},{name:"js_download_index",url:"packages/china-guest/hyperloop/index"},{name:"js_download_vendor",url:"packages/vendor"},{name:"js_download_home",url:"packages/webcot-china-Home_async"},{name:"js_download_pdp",url:"packages/webcot-ChinaHomesPDPContainer"},{name:"js_download_lightmoweb_home",url:"packages/china-light-moweb-home"},{name:"js_download_lightmoweb_search",url:"packages/china-light-moweb-search"},{name:"js_download_lightmoweb_pdp",url:"packages/china-light-moweb-pdp"}].reduce(function(e,t){var n,r=a.find(function(e){return e.name.includes(t.url)&&"resource"===e.entryType});return r?babelHelpers.objectSpread({},e,(n={},babelHelpers.defineProperty(n,"".concat(t.name,"_start"),String(_(r.fetchStart))),babelHelpers.defineProperty(n,"".concat(t.name,"_fetch_to_request_duration"),String(r.requestStart-r.fetchStart)),babelHelpers.defineProperty(n,"".concat(t.name,"_request_to_response_duration"),String(r.responseStart-r.requestStart)),babelHelpers.defineProperty(n,"".concat(t.name,"_response_duration"),String(r.responseEnd-r.responseStart)),babelHelpers.defineProperty(n,"".concat(t.name,"_duration"),String(r.duration)),babelHelpers.defineProperty(n,"".concat(t.name,"_size"),String(r.encodedBodySize)),n)):e},{})},h=function(e,t){var n,r=t.startMark,a=t.endMark,i=t.timingName,o=t.startTime,s=e.find(function(e){return e.name===r}),c=e.find(function(e){return e.name===a});return s&&c?(n={},babelHelpers.defineProperty(n,"".concat(i,"_start"),String(_(s.startTime,o))),babelHelpers.defineProperty(n,"".concat(i,"_duration"),String(c.startTime-s.startTime+c.duration)),n):{}},b=function(){var e={},t=c.a.get(l.e),n=c.a.get(l.f),r=c.a.get(l.d),a=c.a.get(l.a),i=c.a.get(l.b),o=c.a.get(l.c);return t&&(d.a.logEvent({event_name:"china",event_data:{datadog_key:"china_web_explore_api_source",datadog_tags:["api_source:".concat(t)]}}),e.p2_api_source=t),n&&(d.a.logEvent({event_name:"china",event_data:{datadog_key:"china_web_pdp_api_source",datadog_tags:["api_source:".concat(n),"visibility:".concat(Object(m.g)())]}}),e.p3_api_source=n),r&&(d.a.logEvent({event_name:"china",event_data:{datadog_key:"china_web_checkout_api_source",datadog_tags:["api_source:".concat(r)]}}),e.p4_api_source=r),a&&(e.lightmoweb_p2_api_source=a),i&&(e.lightmoweb_p3_api_source=i),o&&(e.lightmoweb_p4_api_source=o),e};function v(e){var t=e.startTime;if(p.a.getBootstrap("disable_china_frontend_performance_timings")||"zh"!==u.a.locale())return{};var n=window.performance;if("function"!=typeof n.getEntries)return{};var r=n.getEntries().reverse(),a=t===n.timing.requestStart,i=s()("webpack"),o=babelHelpers.objectSpread({},g(r,{startTime:t}),h(r,{timingName:"component_render",startMark:"component_render_start",endMark:"component_render_end",startTime:t}),b(),h(r,{timingName:"wait_tti",startMark:"component_render_end",endMark:"Time to AirbnbInteractive",startTime:t}));return a?babelHelpers.objectSpread({},o,f(r),h(r,{timingName:"initialize_execution",startMark:"core_execution_start",endMark:"core_execution_end",startTime:t}),h(r,{timingName:"index_import",startMark:"index_import_start",endMark:"index_import_end",startTime:t}),h(r,{timingName:"component_import",startMark:"component_import_start",endMark:"component_render_start",startTime:t}),{initial_js_bundle_count:i&&i.renderedAsyncChunkIds?String(i.renderedAsyncChunkIds.length):""}):o}},XNMq:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("tl9J"),a=n.n(r),i=n("H92b"),o=n("APZ/");function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Math.random;return!!Object(i.a)()&&(!!a()(o.b)||e()<o.d)}},gqJu:function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"f",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c});var r="api_v2_explore_tabs",a="api_v2_pdp_listing_detail",i="api_v2_p4_lite_api",o="/china-guest-moweb-loop/cls_result",s="/china-guest-moweb-loop/clr_result",c="/api/v2/homes_checkout_lite_flows"},vkXX:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("lVss"),a=function(){function e(){this.performance=Object(r.b)()}var t=e.prototype;return t.getRelative=function(){return Math.round(this.performance.now(),10)},t.getAbsolute=function(){return Math.round(Date.now(),10)},e}()}}]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/706b-60f6c3a7.js.map